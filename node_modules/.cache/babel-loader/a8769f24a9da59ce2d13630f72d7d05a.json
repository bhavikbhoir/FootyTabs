{"ast":null,"code":"var _jsxFileName = \"D:\\\\reactjs\\\\FootyTabs\\\\src\\\\components\\\\landingpage.js\";\nimport React, { Component } from 'react';\nimport { DateTime } from 'luxon';\nimport Modal from 'react-modal';\nimport './styles.css';\nimport { FiSettings } from 'react-icons/fi';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Dashboard from './dashboard';\nimport Searchbar from './searchbar'; // import Header from './Header';\n\nconst NAME_LS = 'NAME_LS';\nconst customStyles = {\n  content: {\n    width: '400px',\n    height: '400px',\n    opacity: '0.9',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    borderColor: '#0080ff',\n    background: 'none',\n    border: 'none'\n  }\n};\n\nclass Landingpage extends Component {\n  constructor() {\n    super();\n    var time = this.getTime();\n    this.state = {\n      time,\n      name: '',\n      isNameRequired: false,\n      salutation: this.determineSalutation(time.hour),\n      quote: null,\n      geolocation: {\n        latitude: null,\n        longitude: null\n      },\n      location: null,\n      temperature: null,\n      weatherAPIKey: '594d083c4f45203a1d8cf6c1f7dd0a0b',\n      weatherIcon: null,\n      modalIsOpen: false,\n      inputValue: ''\n    };\n    this.closeModal = this.closeModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  closeModal() {\n    this.setState({\n      modalIsOpen: false\n    });\n    this.setState({\n      name: this.state.inputValue\n    });\n    localStorage.setItem(NAME_LS, this.state.inputValue);\n  }\n\n  handleChange(e) {\n    this.setState({\n      inputValue: e.target.value\n    });\n  }\n\n  componentWillMount() {\n    navigator.geolocation.getCurrentPosition(position => this.setState({\n      geolocation: {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude\n      }\n    }, () => this.updateWeather()), () => {\n      throw 'Error occured!';\n    });\n    Modal.setAppElement('body');\n  }\n\n  componentDidMount() {\n    const name = localStorage.getItem(NAME_LS);\n\n    if (name) {\n      this.setState({\n        name\n      });\n    } else {\n      this.setState({\n        modalIsOpen: true\n      });\n    }\n\n    fetch('https://horizonshq.herokuapp.com/api/inspirationalquotes').then(resp => resp.json()).then(resp => this.setState({\n      quote: resp.message\n    }));\n    setInterval(() => {\n      var time = DateTime.local();\n      this.setState({\n        time,\n        salutation: this.determineSalutation(time.hour)\n      });\n    }, 1000 * 1);\n  }\n\n  determineSalutation(hour) {\n    if (hour > 11 && hour < 19) {\n      return 'afternoon';\n    } else if (hour > 18) {\n      return 'evening';\n    } else {\n      return 'morning';\n    }\n  }\n\n  determineWeatherCondition(str) {\n    switch (str) {\n      case 'Rain':\n        return 'wi-day-rain';\n\n      case 'Thunderstorm':\n        return 'wi-day-thunderstorm';\n\n      case 'Drizzle':\n        return 'wi-day-showers';\n\n      case 'Extreme':\n        return 'wi-day-snow-thunderstorm';\n\n      case 'Snow':\n        return 'wi-day-snow';\n\n      case 'Clouds':\n        return 'wi-day-cloudy';\n\n      case 'Clear':\n        return 'wi-day-sunny';\n\n      default:\n        return null;\n    }\n  }\n\n  updateWeather() {\n    fetch(`http://api.openweathermap.org/data/2.5/weather?APPID=${this.state.weatherAPIKey}&lat=${this.state.geolocation.latitude}&lon=${this.state.geolocation.longitude}`).then(resp => resp.json()).then(resp => this.setState({\n      location: resp.name,\n      temperature: Math.round(resp.main.temp - 273.15),\n      weatherIcon: this.determineWeatherCondition(resp.weather[0].main)\n    }));\n  }\n\n  getTime() {\n    return DateTime.local();\n  }\n\n  getBGStyle(category = 'HK') {\n    return {\n      //   backgroundImage: `url(https://source.unsplash.com/collection/10767820/1920x1080/daily?${category})`,\n      backgroundImage: `url(https://source.unsplash.com/lBhhnhndpE0/1920x1080/`,\n      backgroundSize: 'cover',\n      height: '100vh',\n      width: '100%',\n      opacity: '0.9'\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: this.getBGStyle(this.state.category),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, \"Welcome \", this.state.name))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right top-right weather\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: `wi ${this.state.weatherIcon}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }), \"\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      id: \"weather\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 69\n      }\n    }), this.state.temperature, \"\\u2103\"), /*#__PURE__*/React.createElement(\"h5\", {\n      id: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, this.state.location)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 15\n      }\n    }, this.state.time.toFormat(\"h':'mm\")), /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"ampm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, this.state.time.toFormat('a'))), /*#__PURE__*/React.createElement(\"h3\", {\n      id: \"greetings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"Good \", this.state.salutation, \", \", this.state.name), /*#__PURE__*/React.createElement(Searchbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalIsOpen,\n      style: customStyles,\n      contentLabel: \"name-modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, \"What's your Jersey Name?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      type: \"text\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"modal-button\",\n      onClick: this.closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, \"Enter\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-right dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, \"Your dashboard\"), /*#__PURE__*/React.createElement(Dashboard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center bottom-third quote\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"quote-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, this.state.quote)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right bottom-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      id: \"settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FiSettings, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }), \" Custom toggle\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, \"Red\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, \"Blue\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: \"3\",\n      active: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }, \"Orange\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, \"Red-Orange\"))))));\n  }\n\n}\n\nexport default Landingpage;","map":{"version":3,"sources":["D:/reactjs/FootyTabs/src/components/landingpage.js"],"names":["React","Component","DateTime","Modal","FiSettings","DropdownButton","Dropdown","Dashboard","Searchbar","NAME_LS","customStyles","content","width","height","opacity","top","left","right","bottom","marginRight","transform","borderColor","background","border","Landingpage","constructor","time","getTime","state","name","isNameRequired","salutation","determineSalutation","hour","quote","geolocation","latitude","longitude","location","temperature","weatherAPIKey","weatherIcon","modalIsOpen","inputValue","closeModal","bind","handleChange","setState","localStorage","setItem","e","target","value","componentWillMount","navigator","getCurrentPosition","position","coords","updateWeather","setAppElement","componentDidMount","getItem","fetch","then","resp","json","message","setInterval","local","determineWeatherCondition","str","Math","round","main","temp","weather","getBGStyle","category","backgroundImage","backgroundSize","render","toFormat"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {DateTime} from 'luxon';\r\nimport Modal from 'react-modal';\r\nimport './styles.css';\r\nimport {FiSettings} from 'react-icons/fi';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Dashboard from './dashboard';\r\nimport Searchbar from './searchbar';\r\n// import Header from './Header';\r\n\r\n\r\nconst NAME_LS = 'NAME_LS';\r\n\r\nconst customStyles = {\r\n  content: {\r\n    width: '400px',\r\n    height: '400px',\r\n    opacity: '0.9',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderColor: '#0080ff',\r\n    background: 'none',\r\n    border: 'none'\r\n  }\r\n};\r\n\r\nclass Landingpage extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    var time = this.getTime();\r\n\r\n    this.state = {\r\n      time,\r\n      name: '',\r\n      isNameRequired: false,\r\n      salutation: this.determineSalutation(time.hour),\r\n      quote: null,\r\n      geolocation: {\r\n        latitude: null,\r\n        longitude: null\r\n      },\r\n      location: null,\r\n      temperature: null,\r\n      weatherAPIKey: '594d083c4f45203a1d8cf6c1f7dd0a0b',\r\n      weatherIcon: null,\r\n      modalIsOpen: false,\r\n      inputValue: ''\r\n    };\r\n\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({modalIsOpen: false});\r\n    this.setState({name: this.state.inputValue});\r\n    localStorage.setItem(NAME_LS, this.state.inputValue);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({inputValue: e.target.value});\r\n  }\r\n\r\n  componentWillMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      position =>\r\n        this.setState(\r\n          {\r\n            geolocation: {\r\n              latitude: position.coords.latitude,\r\n              longitude: position.coords.longitude\r\n            }\r\n          },\r\n          () => this.updateWeather()\r\n        ),\r\n      () => {\r\n        throw 'Error occured!';\r\n      }\r\n    );\r\n    Modal.setAppElement('body');\r\n  }\r\n\r\n  componentDidMount() {\r\n    const name = localStorage.getItem(NAME_LS);\r\n    if (name) {\r\n      this.setState({name});\r\n    } else {\r\n      this.setState({modalIsOpen: true});\r\n    }\r\n\r\n    fetch('https://horizonshq.herokuapp.com/api/inspirationalquotes')\r\n      .then(resp => resp.json())\r\n      .then(resp => this.setState({quote: resp.message}));\r\n\r\n    setInterval(() => {\r\n      var time = DateTime.local();\r\n      this.setState({\r\n        time,\r\n        salutation: this.determineSalutation(time.hour)\r\n      });\r\n    }, 1000 * 1);\r\n  }\r\n\r\n  determineSalutation(hour) {\r\n    if (hour > 11 && hour < 19) {\r\n      return 'afternoon';\r\n    } else if (hour > 18) {\r\n      return 'evening';\r\n    } else {\r\n      return 'morning';\r\n    }\r\n  }\r\n\r\n  determineWeatherCondition(str) {\r\n    switch (str) {\r\n      case 'Rain':\r\n        return 'wi-day-rain';\r\n      case 'Thunderstorm':\r\n        return 'wi-day-thunderstorm';\r\n      case 'Drizzle':\r\n        return 'wi-day-showers';\r\n      case 'Extreme':\r\n        return 'wi-day-snow-thunderstorm';\r\n      case 'Snow':\r\n        return 'wi-day-snow';\r\n      case 'Clouds':\r\n        return 'wi-day-cloudy';\r\n      case 'Clear':\r\n        return 'wi-day-sunny';\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  updateWeather() {\r\n    fetch(\r\n      `http://api.openweathermap.org/data/2.5/weather?APPID=${\r\n        this.state.weatherAPIKey\r\n      }&lat=${this.state.geolocation.latitude}&lon=${\r\n        this.state.geolocation.longitude\r\n      }`\r\n    )\r\n      .then(resp => resp.json())\r\n      .then(resp =>\r\n        this.setState({\r\n          location: resp.name,\r\n          temperature: Math.round(resp.main.temp - 273.15),\r\n          weatherIcon: this.determineWeatherCondition(resp.weather[0].main)\r\n        })\r\n      );\r\n  }\r\n\r\n  getTime() {\r\n    return DateTime.local();\r\n  }\r\n\r\n  getBGStyle(category = 'HK') {\r\n    return {\r\n    //   backgroundImage: `url(https://source.unsplash.com/collection/10767820/1920x1080/daily?${category})`,\r\n      backgroundImage: `url(https://source.unsplash.com/lBhhnhndpE0/1920x1080/`,\r\n      backgroundSize: 'cover',\r\n      height: '100vh',\r\n      width: '100%',\r\n      opacity: '0.9'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={this.getBGStyle(this.state.category)}>\r\n        <div className=\"bg-wrapper\">\r\n          \r\n        <div className=\"top-left\">\r\n            <div>\r\n              <p>Welcome {this.state.name}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"text-right top-right weather\">\r\n            <div>\r\n              <i className={`wi ${this.state.weatherIcon}`} />&nbsp;<span id=\"weather\" />\r\n              {this.state.temperature}&#8451;\r\n            </div>\r\n            <h5 id=\"location\">{this.state.location}</h5>\r\n          </div>\r\n          <div className=\"text-center centered\">\r\n            <div className=\"block-text\">\r\n              <h1 id=\"time\">{this.state.time.toFormat(\"h':'mm\")}</h1>\r\n              <h2 id=\"ampm\">{this.state.time.toFormat('a')}</h2>\r\n            </div>\r\n            <h3 id=\"greetings\">\r\n              Good {this.state.salutation}, {this.state.name}\r\n            </h3>\r\n            <Searchbar />\r\n            <Modal\r\n              isOpen={this.state.modalIsOpen}\r\n              style={customStyles}\r\n              contentLabel=\"name-modal\"\r\n            >\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-title\">What's your Jersey Name?</div>\r\n                  <div className=\"modal-input\" >\r\n                    <input name=\"name\" type=\"text\" onChange={this.handleChange}/>\r\n                  </div>\r\n                  <div className=\"modal-btn\">\r\n                    <button className=\"modal-button\" onClick={this.closeModal}>\r\n                      Enter\r\n                    </button>\r\n                  </div>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n          <div className=\"center-right dashboard\">\r\n            <h3>Your dashboard</h3>\r\n            <Dashboard />\r\n          </div>\r\n          <div className=\"text-center bottom-third quote\">\r\n            <div id=\"quote-text\">{this.state.quote}</div>\r\n          </div>\r\n          <div className=\"text-right bottom-right\">\r\n          <Dropdown id=\"settings\">\r\n            <Dropdown.Toggle>\r\n            <FiSettings/> Custom toggle\r\n            </Dropdown.Toggle>\r\n\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item eventKey=\"1\">Red</Dropdown.Item>\r\n              <Dropdown.Item eventKey=\"2\">Blue</Dropdown.Item>\r\n              <Dropdown.Item eventKey=\"3\" active>\r\n                Orange\r\n              </Dropdown.Item>\r\n              <Dropdown.Item eventKey=\"1\">Red-Orange</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n            {/* <div id=\"settings\">\r\n              <button><i class=\"FiSettings\"><FiSettings/></i> Settings</button>\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Landingpage;"]},"metadata":{},"sourceType":"module"}